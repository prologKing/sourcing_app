(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2248a4"],{e124:function(e,t,a){"use strict";a.r(t);var s=a("7a23");const c={class:"sm:px-10 sm:py-6 text-left"},l={class:"pb-10"},r={class:"flex flex-col md:flex-row md:justify-between md:items-end"},i={class:"h-full pb-2"},o={class:"mb-5"},n={class:"sm:flex overview__dashboard-stat-container bg-white p-5"},d={class:"bg-white p-5"},b={class:"grid grid-cols-1 lg:grid-cols-3 gap-5"},m=Object(s["createElementVNode"])("div",null,"TOTAL DNS REQUESTS",-1),p=Object(s["createElementVNode"])("div",null,"TOTAL SECURITY BLOCKS",-1),u=Object(s["createElementVNode"])("div",null,"TOTAL WEB FILTERING",-1),O={class:"pt-5"},v={class:"p-8 bg-white"},j={class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-16 gap-y-16"},h={class:"flex items-center justify-center space-x-2 border-b border-primary pb-2"},g={class:"material-icons mr-2 text-gray-600 text-5xl"},E={class:"font-medium uppercase"},N={class:"text-center text-primary text-2xl"},y={class:"pt-5"};function w(e,t,a,w,V,k){const x=Object(s["resolveComponent"])("base-header"),f=Object(s["resolveComponent"])("el-option"),B=Object(s["resolveComponent"])("el-select"),A=Object(s["resolveComponent"])("BaseActiveWidget"),L=Object(s["resolveComponent"])("BaseStat"),S=Object(s["resolveComponent"])("apexchart"),$=Object(s["resolveComponent"])("logs");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",c,[Object(s["createElementVNode"])("div",l,[Object(s["createElementVNode"])("div",r,[Object(s["createElementVNode"])("div",null,[Object(s["createVNode"])(x,{title:"Overview"})]),Object(s["createElementVNode"])("div",i,[Object(s["createVNode"])(B,{class:"w-full","value-key":"value",modelValue:V.period,"onUpdate:modelValue":t[0]||(t[0]=e=>V.period=e)},{default:Object(s["withCtx"])(()=>[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(V.periodOptions,e=>(Object(s["openBlock"])(),Object(s["createBlock"])(f,{key:e.value,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),Object(s["createElementVNode"])("div",o,[Object(s["createVNode"])(A,{period:V.period},null,8,["period"])]),Object(s["createElementVNode"])("div",n,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(V.stats,(e,t)=>(Object(s["openBlock"])(),Object(s["createBlock"])(L,{key:t,label:e.label,value:e.value,subtitle:e.subtitle},null,8,["label","value","subtitle"]))),128))])]),Object(s["createElementVNode"])("div",null,[Object(s["createElementVNode"])("div",d,[Object(s["createElementVNode"])("div",b,[Object(s["createElementVNode"])("div",null,[m,Object(s["createVNode"])(S,{width:"100%",height:"300px",type:"bar",options:V.chartOptions,series:V.series},null,8,["options","series"])]),Object(s["createElementVNode"])("div",null,[p,Object(s["createVNode"])(S,{width:"100%",height:"300px",type:"bar",options:V.chartOptions,series:V.series1},null,8,["options","series"])]),Object(s["createElementVNode"])("div",null,[u,Object(s["createVNode"])(S,{width:"100%",height:"300px",type:"bar",options:V.chartOptions,series:V.series2},null,8,["options","series"])])])]),Object(s["createElementVNode"])("div",O,[Object(s["createElementVNode"])("div",v,[Object(s["createElementVNode"])("div",j,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(k.getSummary,(e,t)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"",key:t},[Object(s["createElementVNode"])("div",h,[Object(s["createElementVNode"])("div",null,[Object(s["createElementVNode"])("span",g,Object(s["toDisplayString"])(e.icon),1)]),Object(s["createElementVNode"])("div",null,[Object(s["createElementVNode"])("div",E,Object(s["toDisplayString"])(e.label),1),Object(s["createElementVNode"])("div",N,Object(s["toDisplayString"])(e.value),1)])])]))),128))])])])]),Object(s["createElementVNode"])("div",y,[Object(s["createVNode"])($)])])}var V=a("8b96");const k={class:"sm:flex overview__dashboard-stat-container justify-between bg-white p-5 space-x-10"},x={class:"uppercase font-bold"},f={class:"text-xl font-bold text-primary"};function B(e,t,a,c,l,r){const i=Object(s["resolveComponent"])("el-progress");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",k,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(r.getNetworkSummary,(e,t)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"flex items-center space-x-4",key:t},[Object(s["createElementVNode"])("div",null,[Object(s["createVNode"])(i,{type:"dashboard",percentage:e.percentage},null,8,["percentage"])]),Object(s["createElementVNode"])("div",null,[Object(s["createElementVNode"])("div",x,Object(s["toDisplayString"])(e.label),1),Object(s["createElementVNode"])("div",f,Object(s["toDisplayString"])(e.subLabel),1)])]))),128))])}var A=a("dde5"),L={props:{period:{type:String,required:!1}},computed:{getNetworkSummary(){return[{label:"Active Networks",subLabel:`${this.networks.active} / ${this.networks.total} Active`,percentage:this.getPercentage(this.networks.active,this.networks.total)},{label:"Active Roaming clients",subLabel:`${this.roamers.active} / ${this.roamers.total} Active`,percentage:this.getPercentage(this.roamers.active,this.roamers.total)},{label:"Active appliances",subLabel:`${this.appliances.active} / ${this.appliances.total} Active`,percentage:this.getPercentage(this.appliances.active,this.appliances.total)}]}},data(){return{appliances:{active:0,total:0},networks:{active:0,total:0},roamers:{active:0,total:0}}},methods:{async getActivesAsync(){try{const e=await Object(A["v"])(this.period);this.appliances=e.appliances,this.roamers=e.roamers,this.networks=e.networks}catch(e){Object(A["ab"])(e)}},getPercentage(e,t){if(!e||!t)return 0;const a=Number(e)/Number(t)*100;return a.toFixed()}},watch:{period:function(e,t){this.getActivesAsync()}},created(){this.getActivesAsync()}},S=a("6b0d"),$=a.n(S);const T=$()(L,[["render",B]]);var C=T,D=a("ba30"),F=a.n(D);const I={class:"bg-white p-8"},R={class:"grid grid-cols-2 gap-8"},_=Object(s["createElementVNode"])("div",{class:"title uppercase font-bold"},"Event Logs",-1),W=Object(s["createElementVNode"])("hr",{class:"border-primary"},null,-1),G={class:"pt-2"},P={class:"text-gray-600"},H={class:"text-gray-600"},M={class:"text-gray-600"},U=Object(s["createElementVNode"])("div",{class:"title uppercase font-bold"},"What's new ?",-1),q=Object(s["createElementVNode"])("hr",{class:"border-primary"},null,-1),J={class:"text-xs"},Q={class:"text-sm pt-2"},z={class:"font-light text-sm pt-2"},K=Object(s["createElementVNode"])("div",{class:"py-4"},[Object(s["createElementVNode"])("hr",{class:"border-gray-400"})],-1);function Y(e,t,a,c,l,r){const i=Object(s["resolveComponent"])("el-table-column"),o=Object(s["resolveComponent"])("el-table");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",null,[Object(s["createElementVNode"])("div",I,[Object(s["createElementVNode"])("div",R,[Object(s["createElementVNode"])("div",null,[_,W,Object(s["createElementVNode"])("div",G,[Object(s["createVNode"])(o,{data:r.logs,style:{width:"100%"}},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(i,{fixed:"","label-class-name":"font-bold text-sm text-black",label:"Timestamp",width:"180"},{default:Object(s["withCtx"])(e=>[Object(s["createElementVNode"])("div",P,Object(s["toDisplayString"])(c.time(e.row.CreatedAt)),1),Object(s["createElementVNode"])("div",H,Object(s["toDisplayString"])(c.readableDate(e.row.CreatedAt)),1)]),_:1}),Object(s["createVNode"])(i,{"label-class-name":"font-bold text-sm text-black",label:"Event"},{default:Object(s["withCtx"])(e=>[Object(s["createElementVNode"])("div",M,Object(s["toDisplayString"])(e.row.event),1)]),_:1})]),_:1},8,["data"])])]),Object(s["createElementVNode"])("div",null,[U,q,(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(r.news,e=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"pt-2",key:e.ID},[Object(s["createElementVNode"])("div",null,[Object(s["createElementVNode"])("div",J,Object(s["toDisplayString"])(e.date),1),Object(s["createElementVNode"])("div",Q,Object(s["toDisplayString"])(e.subject),1),Object(s["createElementVNode"])("div",z,Object(s["toDisplayString"])(e.description),1)]),K]))),128))])])])])}var X=a("7f43"),Z={computed:{logs(){return this.$store.state.settings.logs},news(){return this.$store.state.settings.news}},setup(){const{readableDate:e,time:t}=Object(X["a"])();return{readableDate:e,time:t}},methods:{async getLogsAsync(){try{const e=await Object(A["G"])();this.$store.dispatch("settings/setLogs",[...e])}catch(e){Object(A["ab"])(e)}},async getNewsAsync(){try{const e=await Object(A["J"])();console.log("news",e),this.$store.dispatch("settings/setNews",[...e])}catch(e){Object(A["ab"])(e)}}},created(){this.getLogsAsync(),this.getNewsAsync()}};const ee=$()(Z,[["render",Y]]);var te=ee;let ae=[];var se={computed:{getNetworkSummary(){return[{label:"Active Networks"},{label:"Active Roaming clients"},{label:"Active appliances"}]},getSummary(){return[{icon:"security",label:"PROTECTION",value:this.$store.state.settings.summary.protection},{icon:"search",label:"FILTERING",value:this.$store.state.settings.summary.filtering},{icon:"lightbulb",label:"WHITELIST",value:this.$store.state.settings.summary.whitelist},{icon:"close",label:"blacklist",value:this.$store.state.settings.summary.blacklist},{icon:"lan",label:"networks",value:this.$store.state.settings.summary.networks},{icon:"account_circle",label:"admins",value:this.$store.state.settings.summary.admins},{icon:"lock_outline",label:"MFA",value:this.$store.state.settings.summary.mfa},{icon:"bluetooth",label:"session ip",value:this.$store.state.settings.summary.session_ip}]}},data(){return{period:"1d",categories:[],periodOptions:[{name:"Last 24 Hours",value:"1d"},{name:"Last 7 Days",value:"1w"},{name:"Last 1 Month",value:"1m"}],chartOptions:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:[]},tooltip:{custom:function({series:e,seriesIndex:t,dataPointIndex:a,w:s}){return`<div class="w-40">\n            <div class="bg-primary text-white text-center">${ae[a]}</div>\n            <div class="text-center">${s.globals.seriesNames[0]}: ${e[t][a]}</div>\n            </div>`}},fill:{opacity:1}},series:[{name:"Total Request",color:"#216B82",data:[]}],series1:[{name:"Malware Request",color:"#FF230F",data:[]}],series2:[{name:"Web Filtering",data:[]}],stats:[{label:"TOTAL REQUESTS",value:"0",subtitle:"Last 24 Hours"},{label:"MALWARE REQUESTS",value:"0",subtitle:"Last 24 Hours"},{label:"WEB FILTERING",value:"0 ",subtitle:"Last 24 Hours"}]}},components:{BaseStat:V["a"],BaseActiveWidget:C,ApexCharts:F.a,Logs:te},watch:{period(){const e=this.periodOptions.find(e=>e.value===this.period),t=this.stats.map(t=>({...t,subtitle:e.name}));this.stats=t,this.getGraph()}},methods:{async getGraph(){try{const e=await Object(A["N"])(this.period);e&&(this.stats[0].value=e.dns,this.stats[1].value=e.malware,this.stats[2].value=e.filters);const t=await Object(A["M"])(this.period),a=t.map(e=>e.date),s=t.map(e=>e.dns),c=t.map(e=>e.malware),l=t.map(e=>e.filters);ae=[...a],this.chartOptions1={xaxis:{categories:ae}},this.series[0].data=[...s],this.series1[0].data=[...c],this.series2[0].data=[...l]}catch(e){}}},created(){this.$store.dispatch("settings/updateSummary"),this.getGraph()}};const ce=$()(se,[["render",w]]);t["default"]=ce}}]);
//# sourceMappingURL=chunk-2d2248a4.99271a11.js.map