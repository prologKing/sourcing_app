(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a764153"],{"1eff":function(e,t,o){"use strict";var a=o("7a23");const l=Object(a["ref"])({createUser:!1,createWhitelist:!1,profile:!1,changePassword:!1,deleteItem:!1,createBlacklist:!1,network:!1,radius:!1,license:!1,localDomain:!1,localResolver:!1,logManagement:!1,org:!1,addAppliance:!1,viewAppliance:!1,addRoaming:!1,viewRoaming:!1,reference:!1});Object(a["ref"])(window.innerWidth);const c=()=>{const e=(e,t)=>{l.value[e]=t};return{toggleModal:e,modalState:l}};t["a"]=c},"3f42":function(e,t,o){"use strict";o.r(t);var a=o("7a23");const l={class:"sm:px-10 sm:py-6 text-left"},c={class:"pb-10"},n={class:"sm:flex overview__dashboard-stat-container"},r={class:"bg-white p-4"},s=Object(a["createElementVNode"])("h4",{class:"font-bold uppercase mb-4 text-primary"},"Components",-1),d={class:"relative w-full"},i={class:"w-full"};function b(e,t,o,b,m,O){const u=Object(a["resolveComponent"])("base-header"),j=Object(a["resolveComponent"])("BaseStat"),p=Object(a["resolveComponent"])("api-tab"),h=Object(a["resolveComponent"])("el-tab-pane"),g=Object(a["resolveComponent"])("block-page-tab"),f=Object(a["resolveComponent"])("log-management-tab"),v=Object(a["resolveComponent"])("el-tabs");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(u,{title:"SETTINGS"})]),Object(a["createElementVNode"])("div",n,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(O.getStats,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:t,label:e.label,value:e.value,subtitle:e.subtitle},null,8,["label","value","subtitle"]))),128))])]),Object(a["createElementVNode"])("div",r,[s,Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("div",i,[Object(a["createVNode"])(v,{modelValue:m.activeTab,"onUpdate:modelValue":t[0]||(t[0]=e=>m.activeTab=e),class:"demo-tabs",onTabClick:O.handleClick},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(h,{label:"API Keys",name:"api"},{default:Object(a["withCtx"])(()=>["api"===m.activeTab?(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:0})):Object(a["createCommentVNode"])("",!0)]),_:1}),Object(a["createVNode"])(h,{label:"Block Page",name:"block"},{default:Object(a["withCtx"])(()=>["block"===m.activeTab?(Object(a["openBlock"])(),Object(a["createBlock"])(g,{key:0})):Object(a["createCommentVNode"])("",!0)]),_:1}),Object(a["createVNode"])(h,{label:"Log Management",name:"log"},{default:Object(a["withCtx"])(()=>["log"===m.activeTab?(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:0})):Object(a["createCommentVNode"])("",!0)]),_:1})]),_:1},8,["modelValue","onTabClick"])])])])])}var m=o("8b96");const O={class:"py-2"},u=Object(a["createElementVNode"])("div",{class:"my-4 font-light"},"Access your Dashboard API with this key",-1),j={class:"flex items-center"},p={class:"pr-2"},h=["onClick"],g={class:"flex items-center"},f=Object(a["createElementVNode"])("span",{class:"pr-2"}," Hidden ",-1),v=["onClick"],V=Object(a["createTextVNode"])("Refresh");function C(e,t,o,l,c,n){const r=Object(a["resolveComponent"])("el-table-column"),s=Object(a["resolveComponent"])("el-checkbox"),d=Object(a["resolveComponent"])("base-action"),i=Object(a["resolveComponent"])("base-action-container"),b=Object(a["resolveComponent"])("el-table"),m=Object(a["resolveComponent"])("license-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createElementVNode"])("div",O,[u,Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(b,{data:n.api,style:{width:"100%"}},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(r,{label:"Key",width:"400"},{default:Object(a["withCtx"])(e=>[Object(a["createElementVNode"])("div",j,[Object(a["createElementVNode"])("span",p,Object(a["toDisplayString"])(e.row.key),1),Object(a["createElementVNode"])("span",{class:"mr-2 material-icons text-xl text-primary cursor-pointer",onClick:t=>n.copyContent(e.row.key,"key")},"content_copy",8,h)])]),_:1}),Object(a["createVNode"])(r,{label:"Secret",width:"180"},{default:Object(a["withCtx"])(e=>[Object(a["createElementVNode"])("div",g,[f,Object(a["createElementVNode"])("span",{class:"mr-2 material-icons text-xl text-primary cursor-pointer",onClick:t=>n.copyContent(e.row.secret,"secret")},"content_copy",8,v)])]),_:1}),Object(a["createVNode"])(r,{label:"Created",width:"180"},{default:Object(a["withCtx"])(e=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(l.readableDate(e.row.CreatedAt)),1)]),_:1}),Object(a["createVNode"])(r,{label:"Enabled",width:"100"},{default:Object(a["withCtx"])(e=>[Object(a["createVNode"])(s,{checked:n.getCheckBoxState(e.row.enabled),size:"large",onChange:t=>n.enableApiAsync(e.row)},null,8,["checked","onChange"])]),_:1}),Object(a["createVNode"])(r,null,{default:Object(a["withCtx"])(e=>[Object(a["createVNode"])(i,{loading:c.loading},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{onClick:n.refreshApiAsync},{default:Object(a["withCtx"])(()=>[V]),_:1},8,["onClick"])]),_:1},8,["loading"])]),_:1})]),_:1},8,["data"])])]),Object(a["createVNode"])(m)])}var N=o("dde5"),y=o("7f43"),k=o("1eff"),w=o("7bd3"),x=o("ed08"),E={components:{LicenseModal:w["a"]},setup(){const{readableDate:e}=Object(y["a"])(),{modalState:t,toggleModal:o}=Object(k["a"])();return{modalState:t,toggleModal:o,readableDate:e}},computed:{api(){return this.$store.state.settings.api}},data(){return{hidden:!1,trash:[],loading:!1}},methods:{getCheckBoxState(e){return!!e},copyContent(e,t){this.$copyText(e,void 0,()=>{});const o="key"===t?"API Key copied":"Secret Key copied";Object(x["a"])(o)},async init(){try{const e=await Object(N["w"])();this.$store.dispatch("settings/setApi",[e])}catch(e){Object(N["ab"])(e)}},async refreshApiAsync(){this.loading=!0;try{const e=await Object(N["eb"])({});this.$store.dispatch("settings/setApi",[e])}catch(e){Object(N["ab"])(e,!0)}finally{this.loading=!1}},async enableApiAsync(e){try{const t=await Object(N["t"])({enabled:e.enabled?0:1});this.$store.dispatch("settings/setApi",[t])}catch(t){Object(N["ab"])(t,!0)}}},created(){this.init()}},_=o("6b0d"),S=o.n(_);const B=S()(E,[["render",C]]);var A=B;const T={class:"py-2"},M=Object(a["createElementVNode"])("div",{class:"my-4 font-light"},"Set the apperance of your block page",-1),L={class:"my-4 flex justify-between"},$=Object(a["createElementVNode"])("div",{class:"text-gray-600"},"Show the default FireDNS block page",-1),D=Object(a["createTextVNode"])(Object(a["toDisplayString"])("")),U={class:"my-4 flex justify-between"},R=Object(a["createElementVNode"])("div",{class:"text-gray-600"},"Redirect users to this custom URL",-1),I=Object(a["createTextVNode"])(Object(a["toDisplayString"])("")),P={class:"grid grid-cols-2"},q={class:"col-span-1"},G={class:"flex justify-end pt-20"},K=Object(a["createTextVNode"])("Apply");function F(e,t,o,l,c,n){const r=Object(a["resolveComponent"])("el-radio"),s=Object(a["resolveComponent"])("el-input"),d=Object(a["resolveComponent"])("el-form-item"),i=Object(a["resolveComponent"])("el-form"),b=Object(a["resolveComponent"])("el-button");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createElementVNode"])("div",T,[M,Object(a["createElementVNode"])("div",L,[$,Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(r,{onChange:n.updateBlockAsync,modelValue:c.form.is_default,"onUpdate:modelValue":t[0]||(t[0]=e=>c.form.is_default=e),label:1,size:"large"},{default:Object(a["withCtx"])(()=>[D]),_:1},8,["onChange","modelValue"])])]),Object(a["createElementVNode"])("div",U,[R,Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(r,{onChange:n.updateBlockAsync,modelValue:c.form.is_default,"onUpdate:modelValue":t[1]||(t[1]=e=>c.form.is_default=e),label:0,size:"large"},{default:Object(a["withCtx"])(()=>[I]),_:1},8,["onChange","modelValue"])])]),Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(i,{ref:"form","label-position":"top","label-width":"100px",model:c.form,rules:e.rules,onSubmit:Object(a["withModifiers"])(n.updateBlockAsync,["prevent"])},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",P,[Object(a["createElementVNode"])("div",q,[Object(a["createVNode"])(d,{class:"mr-4"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{modelValue:c.form.custom_url,"onUpdate:modelValue":t[2]||(t[2]=e=>c.form.custom_url=e),disabled:c.form.is_default},null,8,["modelValue","disabled"])]),_:1})])])]),_:1},8,["model","rules","onSubmit"])]),Object(a["createElementVNode"])("div",G,[Object(a["createVNode"])(b,{onClick:n.updateBlockAsync},{default:Object(a["withCtx"])(()=>[K]),_:1},8,["onClick"])])])])}var z={data(){return{form:{is_default:0,custom_url:""}}},methods:{async init(){try{const e=await Object(N["z"])();this.form={...e}}catch(e){Object(N["ab"])(e)}},async updateBlockAsync(){try{let e;const t={is_default:this.form.is_default};1!==this.form.is_default&&(t.custom_url=this.form.custom_url),this.form.is_default&&(e=await Object(N["lb"])(t),Object(x["a"])("Block page set to default")),!this.form.is_default&&this.form.custom_url&&(e=await Object(N["lb"])(t),Object(x["a"])("Block page set to "+this.form.custom_url))}catch(e){Object(N["ab"])(e,!0)}}},created(){this.init()}};const W=S()(z,[["render",F]]);var H=W;const J={class:"py-2"},Y=Object(a["createElementVNode"])("div",{class:"my-4 font-light"}," The Api Key and secret here are used to perform API requests against your FireDNS tenant ",-1),Q=Object(a["createTextVNode"])("Edit");function X(e,t,o,l,c,n){const r=Object(a["resolveComponent"])("el-table-column"),s=Object(a["resolveComponent"])("base-action"),d=Object(a["resolveComponent"])("base-action-container"),i=Object(a["resolveComponent"])("el-table"),b=Object(a["resolveComponent"])("edit-log-management-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createElementVNode"])("div",J,[Y,Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(i,{data:n.log,style:{width:"100%"}},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(r,{prop:"region",label:"Storage Region",width:"180"}),Object(a["createVNode"])(r,{prop:"last_sync",label:"Last Sync",width:"180"}),Object(a["createVNode"])(r,{prop:"retention",label:"Retention"}),Object(a["createVNode"])(r,{width:"100px"},{default:Object(a["withCtx"])(e=>[Object(a["createVNode"])(d,{loading:c.loading},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{onClick:n.edit},{default:Object(a["withCtx"])(()=>[Q]),_:1},8,["onClick"])]),_:1},8,["loading"])]),_:1})]),_:1},8,["data"])])]),Object(a["createVNode"])(b)])}const Z={class:"grid grid-cols-2 gap-2"},ee={class:"pt-2"},te={class:"pt-2"},oe={class:"dialog-footer"},ae=Object(a["createTextVNode"])("Cancel"),le=Object(a["createTextVNode"])("Save");function ce(e,t,o,l,c,n){const r=Object(a["resolveComponent"])("el-option"),s=Object(a["resolveComponent"])("el-select"),d=Object(a["resolveComponent"])("el-form-item"),i=Object(a["resolveComponent"])("el-form"),b=Object(a["resolveComponent"])("el-button"),m=Object(a["resolveComponent"])("el-dialog");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createVNode"])(m,{modelValue:l.modalState.logManagement,"onUpdate:modelValue":t[3]||(t[3]=e=>l.modalState.logManagement=e),title:"CHANGE LOG SETTINGS",width:"500px",fullscreen:"xs"==n.mq.current},{footer:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("span",oe,[Object(a["createVNode"])(b,{onClick:t[2]||(t[2]=e=>this.toggleModal("logManagement",!1))},{default:Object(a["withCtx"])(()=>[ae]),_:1}),Object(a["createVNode"])(b,{type:"primary",onClick:n.submit,loading:c.loading},{default:Object(a["withCtx"])(()=>[le]),_:1},8,["onClick","loading"])])]),default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(i,{ref:"form","label-position":"top","label-width":"100px",model:c.form},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",Z,[Object(a["createElementVNode"])("div",ee,[Object(a["createVNode"])(d,{class:"w-full",prop:"domain",label:"Storage Region"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{"value-key":"value",modelValue:c.form.region,"onUpdate:modelValue":t[0]||(t[0]=e=>c.form.region=e)},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(c.regionOptions,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:e.value,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),Object(a["createElementVNode"])("div",te,[Object(a["createVNode"])(d,{class:"",label:"Retention Period","value-key":"value"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{class:"flex-1","value-key":"value",modelValue:c.form.retention,"onUpdate:modelValue":t[1]||(t[1]=e=>c.form.retention=e)},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(c.periodOptions,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:e.value,label:e.name,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])])]),_:1},8,["model"])])]),_:1},8,["modelValue","fullscreen"])])}var ne={inject:["mq"],data(){return{form:{region:"",retention:""},regionOptions:[{name:"EU (London)",value:"EU (London)"}],periodOptions:[{name:"7 days",value:7},{name:"30 days",value:30},{name:"45 days",value:45}],loading:!1}},watch:{"$store.state.settings.logs":{handler(){let e=this.$store.state.settings.logs[0];e&&(this.form={...e})},deep:!0}},setup(){const{modalState:e,toggleModal:t}=Object(k["a"])();return{modalState:e,toggleModal:t}},methods:{async submit(){this.loading=!0;try{const e=await Object(N["nb"])(this.form);this.$store.dispatch("settings/setLogs",[e]),Object(x["a"])("log settings updated successfully"),this.toggleModal("logManagement",!1),this.$store.dispatch("settings/updateSummary")}catch(e){Object(N["ab"])(e,!0)}finally{this.loading=!1}}}};const re=S()(ne,[["render",ce]]);var se=re,de={components:{EditLogManagementModal:se},setup(){const{readableDate:e}=Object(y["a"])(),{modalState:t,toggleModal:o}=Object(k["a"])();return{modalState:t,toggleModal:o,readableDate:e}},computed:{log(){return this.$store.state.settings.logs}},data(){return{hidden:!1,trash:[],loading:!1}},methods:{async init(){try{const e=await Object(N["E"])();this.$store.dispatch("settings/setLogs",[e])}catch(e){handleNetworkError(e)}},edit(){this.toggleModal("logManagement",!0)}},created(){this.init()}};const ie=S()(de,[["render",X]]);var be=ie,me={computed:{getStats(){var e,t;this.$store.state.settings.logs;return[{label:"LOG STORAGE",value:(null===(e=this.logStore)||void 0===e?void 0:e.duration)+" DAYS"||!1,subtitle:(null===(t=this.logStore)||void 0===t?void 0:t.region)||""}]}},data(){return{activeTab:this.$route.query.tab||"api",logStore:{}}},components:{BaseStat:m["a"],ApiTab:A,BlockPageTab:H,LogManagementTab:be},methods:{async init(){try{const e=await Object(N["R"])();this.logStore=e.logstore}catch(e){Object(N["ab"])(e)}},handleClick(e){this.$router.replace({path:this.$route.path,query:{tab:e.props.name}})}},created(){this.init()}};const Oe=S()(me,[["render",b]]);t["default"]=Oe},"7bd3":function(e,t,o){"use strict";var a=o("7a23");const l={class:""},c={class:"dialog-footer"},n=Object(a["createTextVNode"])("Cancel"),r=Object(a["createTextVNode"])("Save");function s(e,t,o,s,d,i){const b=Object(a["resolveComponent"])("el-input"),m=Object(a["resolveComponent"])("el-form-item"),O=Object(a["resolveComponent"])("el-form"),u=Object(a["resolveComponent"])("el-button"),j=Object(a["resolveComponent"])("el-dialog");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createVNode"])(j,{modelValue:s.modalState.license,"onUpdate:modelValue":t[2]||(t[2]=e=>s.modalState.license=e),title:"NEW LICENSE",width:"500px",fullscreen:"xs"===i.mq.current},{footer:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("span",c,[Object(a["createVNode"])(u,{onClick:t[1]||(t[1]=e=>s.toggleModal("license",!1))},{default:Object(a["withCtx"])(()=>[n]),_:1}),Object(a["createVNode"])(u,{type:"primary",onClick:i.submit,loading:d.loading},{default:Object(a["withCtx"])(()=>[r]),_:1},8,["onClick","loading"])])]),default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(O,{ref:"form","label-position":"top","label-width":"100px",model:d.form},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",null,[Object(a["createVNode"])(m,{class:"mr-4",prop:"domain",label:"License Key"},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(b,{modelValue:d.form.key,"onUpdate:modelValue":t[0]||(t[0]=e=>d.form.key=e)},null,8,["modelValue"])]),_:1})])])]),_:1},8,["model"])])]),_:1},8,["modelValue","fullscreen"])])}var d=o("1eff"),i=o("dde5"),b=o("ed08"),m={inject:["mq"],data(){return{form:{key:""},loading:!1}},computed:{networks(){return this.$store.state.whitelist.list}},setup(){const{modalState:e,toggleModal:t}=Object(d["a"])();return{modalState:e,toggleModal:t}},methods:{async submit(){this.loading=!0;try{const e=await Object(i["mb"])(this.form);Object(b["a"])("License Updated"),this.$store.dispatch("license/setLicense",[e]),this.toggleModal("license",!1)}catch(e){Object(i["ab"])(e,!0)}finally{this.loading=!1}}}},O=o("6b0d"),u=o.n(O);const j=u()(m,[["render",s]]);t["a"]=j}}]);
//# sourceMappingURL=chunk-0a764153.21447d37.js.map